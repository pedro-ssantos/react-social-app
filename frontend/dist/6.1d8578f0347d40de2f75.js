(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{216:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),l=a(4),c=a(3),o=a(2),r=a.n(o),i=a(105),u=a.n(i),m=a(19),d=a(7),p=a(11),f=a(18),h=a(10),E=a(14);t.default=Object(l.g)((function(e){const t=Object(s.useContext)(h.a),a=Object(s.useContext)(E.a),[o,i]=Object(s.useState)(!0),[b,g]=Object(s.useState)(),{id:w}=Object(l.f)();if(Object(s.useEffect)(()=>{const e=r.a.CancelToken.source();return async function(){try{const t=await r.a.get("/post/"+w,{cancelToken:e.token});g(t.data),i(!1)}catch(e){console.log(e),console.log("There was a error fectching data from users posts")}}(),()=>{e.cancel()}},[w]),!o&&!b)return n.a.createElement(f.a,null);if(o)return n.a.createElement(d.a,{title:"Loading..."},n.a.createElement(p.a,null));const y=new Date(b.createdDate),N=`${y.getMonth()+1}/ ${y.getDay()}/${y.getFullYear()}`;return n.a.createElement(d.a,{title:b.title},n.a.createElement("div",{className:"d-flex justify-content-between"},n.a.createElement("h2",null,b.title),!!t.loggedIn&&t.user.username==b.author.username&&n.a.createElement("span",{className:"pt-2"},n.a.createElement(c.b,{to:`/post/${b._id}/edit`,"data-tip":"Edit","data-for":"edit",className:"text-primary mr-2"},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement(m.a,{id:"edit",className:"custon-tooltip"}),n.a.createElement("a",{className:"delete-post-button text-danger","data-tip":"Delete","data-for":"delete",onClick:async function(){if(window.confirm("Do you realy want to delete this post?"))try{"Success"==(await r.a.delete("/post/"+w,{data:{token:t.user.token}})).data&&(a({type:"flashMessage",value:"Post was sucessfully deleted"}),e.history.push("/profile/"+t.user.username))}catch(e){console.log("There was a problem,")}}},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement(m.a,{id:"delete",className:"custon-tooltip"})," ")),n.a.createElement("p",{className:"text-muted small mb-4"},n.a.createElement(c.b,{to:"/profile/"+b.author.username},n.a.createElement("img",{className:"avatar-tiny",src:b.author.avatar})),"Posted by"," ",n.a.createElement(c.b,{to:"/profile/"+b.author.username},b.author.username)," ",N),n.a.createElement("div",{className:"body-content"},n.a.createElement(u.a,{source:b.body,allowedTypes:["paragraph","strong","emphasis","text","heading","list","listItem"]})))}))}}]);